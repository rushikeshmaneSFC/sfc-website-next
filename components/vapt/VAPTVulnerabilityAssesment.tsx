"use client";

import Wrapper from "@/components/atoms/Wrapper";

interface Item {
  icon: string;
  title: string;
  content: string;
}

interface Card {
  grid: Item[];
}

export function VAPTVulnerabilityAssesment() {
  let content: Card[] = [
    {
      grid: [
        {
          icon: "/images/VAPT/risk_based.svg",
          title: "Vulnerability Assessment",
          content: "Discover weaknesses in systems, networks and applications",
        },
        {
          icon: "/images/VAPT/penetration.svg",
          title: "Risk-Based Reporting",
          content:
            "Prioritize vulnerabilities based on their impact and exploitability",
        },
      ],
    },
    {
      grid: [
        {
          icon: "/images/VAPT/actionable.svg",
          title: "Penetration Testing",
          content: "Simulate real-world attacks to evaluate your defenses",
        },
        {
          icon: "/images/VAPT/ai_powered.svg",
          title: "Actionable Remediation Plans",
          content: "Detailed steps to fix issues and strengthen security",
        },
      ],
    },
  ];

  const cards = (_content: Card[]) => {
    return (
      <>
        {_content.map((_card: Card, _parentIndex: number) => {
          return (
            <div
              className="grid grid-cols-[100%] md:grid-cols-[50%,50%] lg:h-[150px] md:gap-4 lg:gap-0 md:mb-4 lg:mb-0"
              key={_parentIndex}
            >
              {cardContent(_card, _parentIndex)}
            </div>
          );
        })}
      </>
    );
  };

  const cardContent = (_content: Card, _parentIndex: number) => {
    return (
      <>
        {_content.grid.map((item, index) => {
          return (
            <div
              key={index}
              className={`
                rounded-lg bg-white mb-4 md:mb-0
                shadow-[0px_1px_4px_0px_rgba(14,31,53,0.12),0px_4px_8px_0px_rgba(14,31,53,0.08)]
                py-4 px-3
                lg:w-[340px] lg:h-[120px]  ${
                  _parentIndex !== 1 ? "" : "lg:justify-self-end self-end"
                }`}
            >
              <div className="flex space-x-2 text-xl font-semibold text-gray-800 max-h-[128px] lg:justify-start lg:items-start md:justify-start md:items-start justify-center items-center ">
                <img
                  loading="lazy"
                  src={item.icon}
                  alt={item.title}
                  className="h-[24px] w-[24px] bg-cover bg-center"
                />
                <h2 className="text-[15px] font-semibold">{item.title}</h2>
              </div>
              <p className="mt-2 text-[#1C1C1C] font-normal text-[13px] lg:text-start md:text-start text-center">
                {item.content}
              </p>
            </div>
          );
        })}
      </>
    );
  };

  return (
    <>
      <Wrapper className="flex items-center justify-center text-center mt-10">
        <h1 className="text-xl md:text-[1.5rem] font-bold mb-4">
          Comprehensive Vulnerability Assessment and Penetration Testing
        </h1>
        <p className="text-base md:text-[1.1125rem]">
          St. Fox VAPT Services combine automated tools and expert-driven
          testing to identify, assess and remediate vulnerabilities across your
          IT environment.
        </p>
      </Wrapper>

      <Wrapper
        className="xl:bg-[url('/images/VAPT/VAPT_vulnerability.png')]
        xl:bg-no-repeat xl:bg-cover xl:h-[300px] h-auto xl:bg-center 2xl:bg-contain
        lg:my-10 md:my-2 my-0 flex justify-center items-center"
      >
        {cards(content)}
      </Wrapper>
      <Wrapper className="lg:pt-0 md:pt-0 -mt-4 flex justify-center items-center ">
        <p className="text-lg font-medium text-center text-[#1A3F7E]">
          We specialize in web apps, networks, cloud security, and
          compliance-based testing.
        </p>
      </Wrapper>
    </>
  );
}
